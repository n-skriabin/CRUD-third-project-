{"version":3,"sources":["C:/Users/Anuitex-18/Desktop/CRUD(Angular, API, Dapper)/CRUD.Web.Core/src/app/articles-component/articles.module.ts","C:/Users/Anuitex-18/Desktop/CRUD(Angular, API, Dapper)/CRUD.Web.Core/src/app/articles-component/articlesComponent.ts","C:/Users/Anuitex-18/Desktop/CRUD(Angular, API, Dapper)/CRUD.Web.Core/src/app/articles-component/articlesView.html"],"names":[],"mappings":"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","file":"articles.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule, Router } from \"@angular/router\";\r\nimport { GridModule } from '@progress/kendo-angular-grid/dist/es/grid.module';\r\nimport { ArticlesComponent } from '../articles-component/articlesComponent';\r\nimport { DropDownsModule, DropDownListModule } from '@progress/kendo-angular-dropdowns';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nconst routes: Routes = [\r\n  { path: 'load-ArticlesTable', component: ArticlesComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports:\r\n    [RouterModule.forChild(routes), CommonModule, GridModule, DropDownsModule, DropDownListModule, ReactiveFormsModule, FormsModule],\r\n  declarations:\r\n    [ArticlesComponent]\r\n})\r\n\r\nexport class ArticlesModule {\r\n}\n\n\n// WEBPACK FOOTER //\n// C:/Users/Anuitex-18/Desktop/CRUD(Angular, API, Dapper)/CRUD.Web.Core/src/app/articles-component/articles.module.ts","import { Observable } from 'rxjs/Rx';\r\nimport { Component, OnInit, Inject } from '@angular/core';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\n\r\nimport { GridDataResult } from '@progress/kendo-angular-grid';\r\nimport { State, process } from '@progress/kendo-data-query';\r\nimport { ArticlesService } from './articlesService';\r\nimport { AuthorsService } from '../authors-component/authorsService';\r\n\r\nimport { Author } from '../authors-component/authorModel';\r\nimport { Article } from './articleModel';\r\n\r\nconst formGroup = dataItem => new FormGroup({\r\n  'Id': new FormControl(dataItem.Id),\r\n  'Name': new FormControl(dataItem.Name, Validators.required),\r\n  'Year': new FormControl(dataItem.Year, Validators.required),\r\n  'AuthorId': new FormControl(dataItem.AuthorId, Validators.required),\r\n});\r\n\r\n@Component({\r\n    selector: 'app-articles',\r\n    templateUrl: './articlesView.html' \r\n})\r\nexport class ArticlesComponent implements OnInit {\r\n    public view: Observable<GridDataResult>;\r\n    public authors: Author[] = [];\r\n    public authorsId: string;\r\n    public formGroup: FormGroup;\r\n    regexpGuid = new RegExp('^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$', 'i');\r\n    public selectedItem: string;\r\n    public gridState: State = {\r\n      sort: [],\r\n      skip: 0,\r\n      take: 10\r\n    };\r\n  \r\n    private editServiceArticle: ArticlesService;\r\n    private editServiceAuthor: AuthorsService;\r\n    private editedRowIndex: number;\r\n\r\n    public author(id: string): Author {\r\n      return this.authors.find(x => x.Id === id);\r\n  }\r\n  \r\n    constructor( @Inject(ArticlesService) editServiceFactoryArticle: any, @Inject(AuthorsService) editServiceFactoryAuthor: any, private titleService: Title) {\r\n      this.editServiceArticle = editServiceFactoryArticle();\r\n      this.editServiceAuthor = editServiceFactoryAuthor();\r\n    }\r\n  \r\n    public ngOnInit(): void {\r\n      this.titleService.setTitle('Articles Page');\r\n      this.view = this.editServiceArticle.map(data => process(data, this.gridState));\r\n      this.editServiceArticle.readAuthors().subscribe((data: Author[]) => {this.authors = data;});\r\n      this.editServiceArticle.read();\r\n    }\r\n  \r\n    public addHandler({ sender }) {\r\n      this.closeEditor(sender);\r\n      this.formGroup = new FormGroup({\r\n        'Id': new FormControl(),\r\n        'Name': new FormControl('', Validators.required),\r\n        'Year': new FormControl('', Validators.required),\r\n        'AuthorId': new FormControl(Validators.required),\r\n      }); \r\n      sender.addRow(this.formGroup);\r\n    }\r\n  \r\n    public editHandler({ sender, rowIndex, dataItem }) {\r\n      this.closeEditor(sender);\r\n  \r\n      this.formGroup = new FormGroup({\r\n        'Id': new FormControl(dataItem.Id),\r\n        'Name': new FormControl(dataItem.Name, Validators.required),\r\n        'Year': new FormControl(dataItem.Year, Validators.required),\r\n        'AuthorId': new FormControl(dataItem.AuthorId),\r\n      });\r\n  \r\n      this.editedRowIndex = rowIndex;\r\n  \r\n      sender.editRow(rowIndex, this.formGroup);\r\n    }\r\n  \r\n    public cancelHandler({ sender, rowIndex }) {\r\n      this.closeEditor(sender, rowIndex);\r\n    }\r\n\r\n    public saveHandler({ sender, rowIndex, formGroup, isNew }) {\r\n      const article: Article = formGroup.value;\r\n      var res = this.regexpGuid.test(article.AuthorId);\r\n      if(res){\r\n        this.editServiceArticle.save(article, isNew);\r\n        sender.closeRow(rowIndex);\r\n      }\r\n      else\r\n      {\r\n        alert('Select a author!');\r\n      }\r\n    }\r\n  \r\n    public removeHandler({ dataItem }) {\r\n      this.editServiceArticle.remove(dataItem);\r\n    }\r\n  \r\n    private closeEditor(grid, rowIndex = this.editedRowIndex) {\r\n      grid.closeRow(rowIndex);\r\n      this.editedRowIndex = undefined;\r\n      this.formGroup = undefined;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/Anuitex-18/Desktop/CRUD(Angular, API, Dapper)/CRUD.Web.Core/src/app/articles-component/articlesComponent.ts","module.exports = \"<h3>Articles</h3>\\r\\n<p></p>\\r\\n<kendo-grid [data]=\\\"view | async\\\"\\r\\n            [height]=\\\"533\\\"\\r\\n            [pageSize]=\\\"gridState.take\\\" [skip]=\\\"gridState.skip\\\" [sort]=\\\"gridState.sort\\\"\\r\\n            [pageable]=\\\"true\\\" [sortable]=\\\"true\\\"\\r\\n            (dataStateChange)=\\\"onStateChange($event)\\\"\\r\\n            (edit)=\\\"editHandler($event)\\\" (cancel)=\\\"cancelHandler($event)\\\"\\r\\n            (save)=\\\"saveHandler($event)\\\" (remove)=\\\"removeHandler($event)\\\"\\r\\n            (add)=\\\"addHandler($event)\\\">\\r\\n  <ng-template kendoGridToolbarTemplate>\\r\\n    <button kendoGridAddCommand>Add new</button>\\r\\n  </ng-template>\\r\\n  <kendo-grid-column field=\\\"Name\\\" title=\\\"Name\\\"></kendo-grid-column>\\r\\n  <kendo-grid-column field=\\\"Year\\\" title=\\\"Year\\\"></kendo-grid-column>\\r\\n  <kendo-grid-column field=\\\"AuthorId\\\" title=\\\"Author\\\" width=\\\"150\\\">\\r\\n    <ng-template kendoGridCellTemplate let-dataItem>\\r\\n      {{author(dataItem.AuthorId)?.Abbreviated}}     \\r\\n    </ng-template>\\r\\n    <ng-template kendoGridEditTemplate\\r\\n      let-dataItem=\\\"dataItem\\\"\\r\\n      let-formGroup=\\\"formGroup\\\">    \\r\\n      <kendo-dropdownlist\\r\\n                  [data]=\\\"authors\\\"\\r\\n                  textField = \\\"Abbreviated\\\"\\r\\n                  valueField=\\\"Id\\\"     \\r\\n                  [valuePrimitive]=\\\"true\\\"          \\r\\n                  [formControl]=\\\"formGroup.get('AuthorId')\\\">\\r\\n                </kendo-dropdownlist>\\r\\n    </ng-template>\\r\\n  </kendo-grid-column>\\r\\n  <kendo-grid-command-column title=\\\"Actions\\\" width=\\\"220\\\">\\r\\n    <ng-template kendoGridCellTemplate let-isNew=\\\"isNew\\\">\\r\\n      <button kendoGridEditCommand class=\\\"k-primary\\\">Edit</button>\\r\\n      <button kendoGridRemoveCommand>Remove</button>\\r\\n      <button kendoGridSaveCommand [disabled]=\\\"formGroup?.invalid\\\">{{ isNew ? 'Add' : 'Update' }}</button>\\r\\n      <button kendoGridCancelCommand>Cancel</button>\\r\\n    </ng-template>\\r\\n  </kendo-grid-command-column>\\r\\n</kendo-grid>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/Anuitex-18/Desktop/CRUD(Angular, API, Dapper)/CRUD.Web.Core/src/app/articles-component/articlesView.html\n// module id = ../../../../../src/app/articles-component/articlesView.html\n// module chunks = articles.module"],"sourceRoot":"webpack:///"}